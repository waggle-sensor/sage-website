"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[4315],{39781:(e,t,o)=>{var a=o(24994);t.A=void 0;var s=a(o(42032)),i=o(74848);t.A=(0,s.default)((0,i.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},47885:(e,t,o)=>{o.d(t,{A:()=>A});var a=o(54625),s=o(27317),i=o(58168),n=o(98587),r=o(96540),l=o(54533),c=o(64111),d=o(11848),m=o(11936),u=o(57416),p=o(27553),h=o(17245);function x(e){return(0,h.Ay)("MuiCard",e)}(0,p.A)("MuiCard",["root"]);var f=o(74848);const g=["className","raised"],v=(0,d.Ay)(u.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),w=r.forwardRef((function(e,t){const o=(0,m.A)({props:e,name:"MuiCard"}),{className:a,raised:s=!1}=o,r=(0,n.A)(o,g),d=(0,i.A)({},o,{raised:s}),u=(e=>{const{classes:t}=e;return(0,c.A)({root:["root"]},x,t)})(d);return(0,f.jsx)(v,(0,i.A)({className:(0,l.A)(u.root,a),elevation:s?8:void 0,ref:t,ownerState:d},r))}));function A(e){const{title:t,src:o,link:s,alt:i}=e;return(0,f.jsx)(j,{children:(0,f.jsxs)(w,{className:"card z-0 relative",component:a.N_,to:s,children:[(0,f.jsx)("img",{src:o,alt:i,className:"max-w-[256px] md:max-w-[220px] md:max-h-[220px]"}),(0,f.jsx)("h3",{className:"text-white absolute left-4 bottom-0 z-10",children:t})]})})}const j=s.Ay.div.withConfig({displayName:"ImageLinkCard__Root",componentId:"sc-j21u2j-0"})([".card::after{display:block;position:relative;background-image:linear-gradient(to bottom,transparent 0%,black 100%);margin-top:-110px;height:110px;width:100%;content:'';}.card:hover h3{color:rgb(121,208,255);text-decoration:underline;}"])},71951:(e,t,o)=>{o.r(t),o.d(t,{default:()=>M});var a=o(96540),s=o.t(a,2),i=o(27317),n=o(56347),r=o(54625),l=o(50173),c=o(37340),d=o(53951);function m(e,t,o,s,i){const[n,r]=a.useState((()=>i&&o?o(e).matches:s?s(e).matches:t));return(0,l.A)((()=>{let t=!0;if(!o)return;const a=o(e),s=()=>{t&&r(a.matches)};return s(),a.addListener(s),()=>{t=!1,a.removeListener(s)}}),[e,o]),n}const u=s.useSyncExternalStore;function p(e,t,o,s,i){const n=a.useCallback((()=>t),[t]),r=a.useMemo((()=>{if(i&&o)return()=>o(e).matches;if(null!==s){const{matches:t}=s(e);return()=>t}return n}),[n,e,s,i,o]),[l,c]=a.useMemo((()=>{if(null===o)return[n,()=>()=>{}];const t=o(e);return[()=>t.matches,e=>(t.addListener(e),()=>{t.removeListener(e)})]}),[n,o,e]);return u(c,l,r)}var h=o(59275),x=o(34977),f=o(15993),g=o(28968),v=o(67512),w=o(4671),A=o(44675),j=o(39781),b=o(47885),y=o(3246),N=o(74848);async function k(e,t){const o=`'${t}' in parents`;let a=[],s=null;do{const t=await e.client.drive.files.list({q:o,fields:"nextPageToken, files(id, name, mimeType)",pageToken:s,pageSize:1e3});a=a.concat(t.result.files),s=t.result.nextPageToken}while(s);const i={};for(const n of a){const{id:t,name:o,mimeType:a}=n;o in i||(i[o]=[]),i[o]="application/vnd.google-apps.folder"===a?await k(e,t):n}return i}function M(e){const{driveFolderID:t}=e,o=(0,n.W6)(),s=function(e,t={}){const o=(0,d.A)(),a="undefined"!=typeof window&&void 0!==window.matchMedia,{defaultMatches:s=!1,matchMedia:i=(a?window.matchMedia:null),ssrMatchMedia:n=null,noSsr:r=!1}=(0,c.A)({name:"MuiUseMediaQuery",props:t,theme:o});let l="function"==typeof e?e(o):e;return l=l.replace(/^@media( ?)/m,""),(void 0!==u?p:m)(l,s,i,n,r)}((0,A.A)().breakpoints.down("md")),i=new URLSearchParams((0,n.zy)().search),l=i.get("collection"),M=parseInt(i.get("img"))||null,[$,z]=(0,a.useState)();(0,a.useEffect)((()=>{var e;e=t,gapi.load("client",(async function(){await gapi.client.init({apiKey:"AIzaSyD0xq74f1zILUzUGWqKrEgMca-HGwCDPgA",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"]});const t=await k(gapi,e);console.log("files",t),z(t)}))}),[t]);const S=()=>Object.values($[l]),_=()=>{o.replace(`/photos?collection=${l}`)};return(0,N.jsxs)(C,{className:"flex flex-wrap gap-2 mx-auto",children:[!l&&$&&Object.keys($).map((e=>{const t=$[e],{id:o,name:a}=Object.values(t)[0];return(0,N.jsx)(b.A,{title:e,link:`/photos?collection=${e}`,src:`https://drive.google.com/thumbnail?id=${o}`,alt:a},o)})),l&&$&&(0,N.jsx)("div",{className:"flex flex-wrap gap-2",children:S().map((({id:e,name:t},o)=>(0,N.jsx)(r.N_,{to:`/photos?collection=${l}&img=${o+1}`,children:(0,N.jsx)("img",{src:`https://drive.google.com/thumbnail?id=${e}`,alt:t})},e)))}),(0,N.jsxs)(h.A,{fullScreen:s,open:!!M,onClose:_,"aria-labelledby":"photo-title",children:[(0,N.jsxs)(x.A,{id:"photo-title",className:"mr-12",children:[l," | Photo ",M]}),(0,N.jsx)("div",{className:"absolute right-4 top-3",children:(0,N.jsx)(w.A,{"aria-label":"close",onClick:_,children:(0,N.jsx)(j.A,{})})}),l&&$&&M?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(g.A,{children:(0,N.jsx)("img",{src:`https://drive.google.com/uc?export=view&id=${S()[M-1].id}`})}),(0,N.jsxs)(f.A,{children:[(0,N.jsx)(v.A,{disabled:M<=1,component:r.N_,to:`/photos?collection=${l}&img=${M-1}`,replace:!0,autoFocus:!0,disableRipple:!0,children:"Prev"}),(0,N.jsx)(v.A,{disabled:M>S().length-1,component:r.N_,to:`/photos?collection=${l}&img=${M+1}`,replace:!0,autoFocus:!0,disableRipple:!0,children:"Next"})]})]}):(0,N.jsx)("div",{className:"mx-auto",children:(0,N.jsx)(y.A,{})})]})]})}const C=i.Ay.div.withConfig({displayName:"PhotoIndex__Root",componentId:"sc-hz643z-0"})(["img{max-height:200px;}"])}}]);